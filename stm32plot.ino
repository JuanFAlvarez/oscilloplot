
#define FIGURE_DELAY 1 // trace delay in uS. adjust if needed
#define NUM_POINTS 344// number of XY points in figure 
                      //limited each list to 180 except last


// x coords in port data
const byte x_points[NUM_POINTS] PROGMEM= {155,153,153,152,151,149,148,146,144,143,141,139,138,136,134,132,130,128,126,124,122,120,119,118,118,116,116,116,115,114,113,113,112,111,110,109,107,106,105,104,103,103,102,101,100,99,98,98,98,98,98,98,98,98,98,98,97,97,155,156,157,157,158,159,160,161,162,162,164,165,166,167,168,170,170,171,171,172,172,172,173,173,173,173,174,174,176,176,176,177,177,177,177,177,177,177,175,175,174,173,172,170,169,168,166,165,163,162,161,159,157,156,154,152,150,149,147,145,143,141,139,137,135,133,131,129,127,125,123,121,119,117,116,114,113,111,110,108,107,106,105,104,103,102,101,100,99,98,98,97,96,96,96,95,95,95,96,139,138,136,134,132,130,128,128,129,130,131,132,134,135,137,139,140,142,142,143,143,143,141,139,138,136,135,138,138,138,138,138,137,136,134,132,130,129,139,139,139,139,139,140,141,143,145,147,163,165,166,168,170,172,173,175,177,178,180,181,183,185,186,188,190,191,193,195,197,199,201,203,205,207,209,211,156,157,158,160,161,162,164,165,167,169,170,172,173,175,176,177,179,180,181,183,184,186,187,188,189,190,191,152,153,155,156,157,159,161,162,163,164,165,167,168,169,171,172,173,174,175,114,112,110,109,107,106,105,103,102,100,98,97,95,94,92,91,89,88,86,84,83,81,79,81,82,84,86,88,120,118,117,116,115,114,114,113,112,111,110,109,108,107,106,104,104,102,101,100,98,124,124,123,123,122,121,121,119,118,118,117,117,116,116,115,115};
const byte y_points[NUM_POINTS] PROGMEM = {129,129,131,132,133,133,134,135,135,136,136,136,137,137,137,137,137,137,137,137,137,137,136,135,133,133,131,130,131,132,133,135,136,137,138,140,140,142,143,144,145,147,148,149,150,151,152,150,148,146,144,142,140,138,136,134,133,131,129,130,131,133,134,135,136,137,138,140,140,141,143,144,145,145,147,148,146,144,142,140,139,137,135,133,132,130,121,119,117,116,114,112,110,108,106,104,104,102,101,100,99,99,98,97,96,95,95,94,93,93,93,92,92,92,92,91,91,91,91,91,91,91,91,91,91,91,91,91,91,92,92,93,94,94,95,95,96,97,98,99,100,101,102,103,104,105,106,108,110,111,112,114,116,117,119,121,122,110,111,111,111,111,111,111,109,108,107,106,105,105,104,104,104,103,103,105,106,108,110,110,110,111,111,112,102,100,98,96,94,93,92,92,92,92,93,102,100,98,96,94,93,92,92,92,92,110,110,109,109,108,108,107,107,107,106,106,105,105,105,104,104,104,103,103,103,102,101,101,101,100,100,100,100,104,103,102,102,101,100,100,99,99,98,97,96,95,95,94,93,92,91,90,89,88,88,87,86,85,84,83,96,95,94,93,92,91,90,89,88,87,86,85,84,83,81,80,79,78,77,107,107,107,106,106,105,104,104,103,103,103,102,102,101,101,100,100,99,99,99,98,98,98,98,97,97,97,97,101,101,100,99,98,97,95,94,93,92,91,90,89,88,87,86,84,84,83,82,82,93,91,90,88,86,85,83,82,81,79,78,76,75,73,72,70};

void setup() {
GPIOB_BASE->CRH = 0x33333333; //since high, need to shift by 255
GPIOA_BASE->CRL = 0x33333333;
//0x33333333 is bitmask to set outputs 0-7 for A and 8-15 for B
}

void loop() {
  
    for (byte t=0; t < NUM_POINTS; t++)// run through x points
    { 
      GPIOA->regs->ODR = x_points[t];
      GPIOB->regs->ODR = y_points[t]<<8;
      delayMicroseconds(FIGURE_DELAY);
    }


}
